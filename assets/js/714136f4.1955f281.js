"use strict";(self.webpackChunkproxily_doc=self.webpackChunkproxily_doc||[]).push([[692],{3905:function(e,t,r){r.d(t,{Zo:function(){return u},kt:function(){return d}});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=n.createContext({}),l=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},u=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=l(r),d=o,f=m["".concat(c,".").concat(d)]||m[d]||p[d]||a;return r?n.createElement(f,s(s({ref:t},u),{},{components:r})):n.createElement(f,s({ref:t},u))}));function d(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,s=new Array(a);s[0]=m;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var l=2;l<a;l++)s[l]=r[l];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},5927:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return i},contentTitle:function(){return c},metadata:function(){return l},toc:function(){return u},default:function(){return m}});var n=r(7462),o=r(3366),a=(r(7294),r(3905)),s=["components"],i={sidebar_position:2,title:"Core Concepts",id:"core"},c=void 0,l={unversionedId:"Introduction/core",id:"Introduction/core",isDocsHomePage:!1,title:"Core Concepts",description:"Observables",source:"@site/docs/Introduction/core.md",sourceDirName:"Introduction",slug:"/Introduction/core",permalink:"/proxily/docs/Introduction/core",editUrl:"https://github.com/selsamman/proxily-doc/edit/master/website/docs/Introduction/core.md",version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Core Concepts",id:"core"},sidebar:"tutorialSidebar",previous:{title:"Usage",permalink:"/proxily/docs/Introduction/intro"},next:{title:"How it Works",permalink:"/proxily/docs/Introduction/how"}},u=[{value:"Observables",id:"observables",children:[]},{value:"Stores, Actions, Selectors",id:"stores-actions-selectors",children:[]}],p={toc:u};function m(e){var t=e.components,r=(0,o.Z)(e,s);return(0,a.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"observables"},"Observables"),(0,a.kt)("p",null,"Proxily is based on tracking your references to state that you have made observable.  You define your state and create an observable version of it with ",(0,a.kt)("a",{parentName:"p",href:"../API/observable#makeobservable"},(0,a.kt)("strong",{parentName:"a"},"makeObservable")),".  Then in your component indicate that you will use observables with ",(0,a.kt)("a",{parentName:"p",href:"../API/observable#useObservable"},(0,a.kt)("strong",{parentName:"a"},"useObservables"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"class CounterState {\n    value = 0;  \n    increment () {this.value++}\n}\n\nconst state = makeObservable({\n    counter: new CounterState()\n});\n\nfunction Counter({counter} : {counter : CounterState}) {\n    useObservables();\n    const {value, increment} = counter;\n    return (\n        <div>\n            <span>Count: {value}</span>\n            <button onClick={increment}>Increment</button>\n        </div>\n    );\n}\n\nfunction App () {\n    return (\n        <Counter counter={state.counter}/>\n    );\n}\n")),(0,a.kt)("p",null,"While the core of Proxily is mostly unopinionated as to how you structure your state, most of this documentation uses classes. Classes are an effective way to keep concerns together.  Both the state and the logic that effects that state are bound together.  Classes have never been that popular in React because most state management systems do not support them very well."),(0,a.kt)("p",null,"Proxily does a few small favors for you that makes working with classes much easier.  For example, notice how the ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("em",{parentName:"strong"},"increment"))," member function can be called without referencing it as ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("em",{parentName:"strong"},"counter.increment()")),".  That is because Proxily automatically binds all member functions to the object that references them."),(0,a.kt)("p",null,"Also classes give you first class Typescript support, so you end up with a robust guard-rail system to ensure type safety.  With Typescript's powerful inference capability most of these benefits come with minimal need for explicit typing.  Your IDE will provide useful suggestions and design-time type information that obviates the need for run-time checking."),(0,a.kt)("h2",{id:"stores-actions-selectors"},"Stores, Actions, Selectors"),(0,a.kt)("p",null,'Most state management libraries have their own proprietary structures for defining a store which may consist of state, selectors to derive information from the state and actions to mutate state.  These are referred to as "opinionated" libraries.  Proxily opts to use standard Javascript language features to define these elements:  '),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Stores")," - Proxily takes a decentralized approach to stores. A store is simply the root of an object graph, representing your state that you have made observable. You pass observable objects to your components as parameters, place them in a context provider or simply import them directly."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Selectors")," - A selector is simply a Javascript ",(0,a.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get"},"getter"),".  You may optionally ",(0,a.kt)("a",{parentName:"li",href:"../Features/memoization"},"memoize")," getters for better performance on expensive calculations (e.g. sorts and filters).  "),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Actions")," - Any function can serve the role of an action. Top level calls are considered to be actions for tools such as redux-devtools and for the batching reactions in a way that avoids reacting to partially updated state.")),(0,a.kt)("p",null,"There are some constraints on observable classes for the benefits of serialization.  They must be constructable without passing parameters to the constructor. Do not include objects that cannot be serialized."))}m.isMDXComponent=!0}}]);