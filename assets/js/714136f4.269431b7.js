"use strict";(self.webpackChunkproxily_doc=self.webpackChunkproxily_doc||[]).push([[692],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),l=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=l(e.components);return r.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=l(n),d=o,f=m["".concat(c,".").concat(d)]||m[d]||p[d]||a;return n?r.createElement(f,i(i({ref:t},u),{},{components:n})):r.createElement(f,i({ref:t},u))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var l=2;l<a;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5927:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return c},metadata:function(){return l},toc:function(){return u},default:function(){return m}});var r=n(7462),o=n(3366),a=(n(7294),n(3905)),i=["components"],s={sidebar_position:2,title:"Core Concepts",id:"core"},c=void 0,l={unversionedId:"Introduction/core",id:"Introduction/core",isDocsHomePage:!1,title:"Core Concepts",description:"Observables",source:"@site/docs/Introduction/core.md",sourceDirName:"Introduction",slug:"/Introduction/core",permalink:"/docs/Introduction/core",editUrl:"https://github.com/selsamman/proxily-doc/edit/master/website/docs/Introduction/core.md",version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Core Concepts",id:"core"},sidebar:"tutorialSidebar",previous:{title:"Usage",permalink:"/docs/Introduction/intro"},next:{title:"Why Proxily?",permalink:"/docs/Introduction/how"}},u=[{value:"Observables",id:"observables",children:[]},{value:"Stores, Actions, Selectors",id:"stores-actions-selectors",children:[]},{value:"Why Classes?",id:"why-classes",children:[]}],p={toc:u};function m(e){var t=e.components,n=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"observables"},"Observables"),(0,a.kt)("p",null,'Proxily tracks references to state while your component renders.  It re-renders your component anytime the referenced properties change.  You make state "observable" with ',(0,a.kt)("a",{parentName:"p",href:"/docs/API/observable#observable"},(0,a.kt)("strong",{parentName:"a"},"observable"))," and ask Proxily to track property references my makeing your component an ",(0,a.kt)("a",{parentName:"p",href:"../API/observable#observer"},(0,a.kt)("strong",{parentName:"a"},"observer")),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"class CounterState {  // Your State\n    value = 0;  \n    increment () {this.value++}\n}\n\nconst state = observable({ \n    counter: new CounterState()\n});\n\nconst Counter = observer(function Counter({counter} : {counter : CounterState}) {\n    const {value, increment} = counter;\n    return (\n        <div>\n            <span>Count: {value}</span>\n            <button onClick={increment}>Increment</button>\n        </div>\n    );\n});\n\nfunction App () {\n    return (\n        <Counter counter={state.counter}/>\n    );\n}\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"observable")," and ",(0,a.kt)("strong",{parentName:"p"},"observer")," are really all you need for basic state management with Proxily.  If you want to see a more complete example, look at the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/selsamman/proxily_react_todo_classic"},"classic redux-style Todo app"),".  Otherwise, continue on."),(0,a.kt)("h2",{id:"stores-actions-selectors"},"Stores, Actions, Selectors"),(0,a.kt)("p",null,"State managers often combine everything into a store. In Proxily we break things out into:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Stores")," - A store is an object that you have made observable (usually the root object in your state).  You can also create stores local to a single component or group of components. ")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Actions")," - Actions are just functions that are members of an observable object.  They may be synchronous or asynchronous and may also spin off tasks via Redux-saga. ")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Selectors")," - A selector is ",(0,a.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get"},"getter")," method on an observable object.  You can ",(0,a.kt)("a",{parentName:"p",href:"../Features/observables#memoization"},"memoize")," it for better performance on expensive calculations (e.g. sorts and filters)."))),(0,a.kt)("p",null,"Proxily doesn't have a fixed opinion on how you set these up, though picking a pattern and sticking with it is advised."),(0,a.kt)("h2",{id:"why-classes"},"Why Classes?"),(0,a.kt)("p",null,"Most of our examples use classes. While you are free to define your state as a plain Javascript object and define actions and selectors separately there are some features that require that functions be bound to your state (e.g. objects).  This includes features unique to Proxily that provide multiple temporal views of your state for transactions and concurrent rendering (React 18).  Javascript objects (prototypal inheritance) would accomplish this but requires manual serialization and persistence. "),(0,a.kt)("p",null,"Therefore, the easiest way to get the full benefits of Proxily is to use classes and enjoy these benefits that they provide:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"State and the code to modify that state are bound together, so it is clear which code is mutating which state.  This can be enforced using private properties.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Classes are the most direct way to define types in Typescript.  They combine describing and typing state with assigning initial values, taking advantage of inference in many cases.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Defining initial values within the class ensures objects are initialized correctly.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"There is one single interface for both consuming and modifying any object in your state so there is no need to import a separate interface with actions and selectors.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"You don't need to pass instance identifiers in your actions.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Class names are attached to your data making it possible to ",(0,a.kt)("a",{parentName:"p",href:"../Features/tools#logging"},"log")," both the class and method when state is mutated."))),(0,a.kt)("p",null,"Classes, like any feature, can certainly be misused - for example overuse of inheritance.  If you keep it simple, however, they offer a highly effective way to organize your state and logic."))}m.isMDXComponent=!0}}]);